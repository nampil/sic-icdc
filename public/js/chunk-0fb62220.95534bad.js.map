{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es6.string.trim.js","webpack:///./src/views/Login.vue?b901","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?5da6","webpack:///./src/views/Login.vue?7b2b","webpack:///./src/views/Login.vue?e652"],"names":["__webpack_require__","$trim","this","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","xs12","sm6","offset-sm3","color","title","ref","on","submit","$event","preventDefault","value","hasErr","type","transition","_v","_s","errMsg","rules","required","prepend-icon","label","autocapitalize","validate-on-blur","model","callback","$$v","usuario","expression","append-icon","show1","click:append","password","small","click","clearForm","to","staticRenderFns","Loginvue_type_script_lang_js_","name","data","computed","credentials","authQuery","query","concat","methods","$refs","form","reset","_this","trim","legth","$store","commit","dispatch","then","res","status","$router","push","msg","statusText","class","active","state","auth","catch","err","console","log","views_Loginvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_id_3a4a5d4b_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_id_3a4a5d4b_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-0fb62220.95534bad.js","sourcesContent":["'use strict';\n// 21.1.3.25 String.prototype.trim()\nrequire('./_string-trim')('trim', function ($trim) {\n  return function trim() {\n    return $trim(this, 3);\n  };\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('v-container',[_c('v-layout',[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"offset-sm3\":\"\"}},[_c('material-card',{staticClass:\"text-xs-center\",attrs:{\"color\":\"green\",\"title\":\"Ingresar\"}},[_c('v-form',{ref:\"form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.submit($event)}}},[_c('v-alert',{attrs:{\"value\":_vm.hasErr,\"type\":\"error\",\"transition\":\"scale-transition\"}},[_vm._v(_vm._s(_vm.errMsg))]),_c('v-text-field',{attrs:{\"rules\":[_vm.rules.required],\"prepend-icon\":\"mdi-account\",\"required\":\"\",\"label\":\"Email\",\"autocapitalize\":\"none\",\"validate-on-blur\":\"\"},model:{value:(_vm.usuario),callback:function ($$v) {_vm.usuario=$$v},expression:\"usuario\"}}),_c('v-text-field',{attrs:{\"append-icon\":_vm.show1 ? 'mdi-eye-off' : 'mdi-eye',\"type\":_vm.show1 ? 'text' : 'password',\"rules\":[_vm.rules.required],\"prepend-icon\":\"mdi-key\",\"required\":\"\",\"label\":\"Clave\"},on:{\"click:append\":function($event){_vm.show1 = !_vm.show1}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('v-btn',{staticClass:\"ma-2\",attrs:{\"color\":\"primary\",\"type\":\"submit\",\"small\":\"\"}},[_vm._v(\"Enviar\")]),_c('v-btn',{staticClass:\"ma-2\",attrs:{\"color\":\"tertiary\",\"small\":\"\"},on:{\"click\":_vm.clearForm}},[_vm._v(\"Cancelar\")])],1),_c('router-link',{attrs:{\"to\":\"/remember-pass\"}},[_vm._v(\"Olvidó la clave?\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"login\">\n    <v-container>\n      <v-layout>\n        <v-flex\n          xs12\n          sm6\n          offset-sm3\n        >\n          <material-card\n            color=\"green\"\n            title=\"Ingresar\"\n            class=\"text-xs-center\"\n          >\n            <v-form\n              ref=\"form\"\n              @submit.prevent=\"submit\"\n            >\n              <v-alert\n                :value=\"hasErr\"\n                type=\"error\"\n                transition=\"scale-transition\"\n              >{{ errMsg }}</v-alert>\n\n              <v-text-field\n                v-model=\"usuario\"\n                :rules=\"[rules.required]\"\n                prepend-icon=\"mdi-account\"\n                required\n                label=\"Email\"\n                autocapitalize=\"none\"\n                validate-on-blur\n              />\n              <v-text-field\n                :append-icon=\"show1 ? 'mdi-eye-off' : 'mdi-eye'\"\n                v-model=\"password\"\n                :type=\"show1 ? 'text' : 'password'\"\n                :rules=\"[rules.required]\"\n                prepend-icon=\"mdi-key\"\n                required\n                label=\"Clave\"\n                @click:append=\"show1 = !show1\"\n              />\n              <v-btn\n                color=\"primary\"\n                class=\"ma-2\"\n                type=\"submit\"\n                small\n              >Enviar</v-btn>\n              <v-btn\n                color=\"tertiary\"\n                class=\"ma-2\"\n                @click=\"clearForm\"\n                small\n              >Cancelar</v-btn>\n            </v-form>\n            <router-link to=\"/remember-pass\">Olvidó la clave?</router-link>\n          </material-card>\n        </v-flex>\n      </v-layout>\n    </v-container>\n  </div>\n</template>\n<script>\nimport axios from 'axios'\nimport { mapState } from 'vuex'\n\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      usuario: '',\n      password: '',\n      show1: false,\n      rules: {\n        required: value => !!value || 'Necesario.'\n      },\n      errMsg: '',\n      hasErr: false\n    }\n  },\n  computed: {\n    credentials() {\n      const authQuery = {\n        query: `\n                query {\n                    login(email: \"${this.usuario}\", password: \"${\n          this.password\n        }\")\n                    {\n                        userId\n                        token\n                        tokenExpiration\n                        name\n                        role\n                    }\n                }\n            `\n      }\n      return authQuery\n    }\n  },\n  methods: {\n    clearForm() {\n      this.usuario = ''\n      this.password = ''\n      this.hasErr = false\n      this.errMsg = ''\n      this.$refs.form.reset()\n    },\n    submit() {\n      if (\n        !this.usuario ||\n        !this.password ||\n        this.usuario.trim().legth === 0 ||\n        this.password.trim().legth === 0\n      ) {\n        this.hasErr = true\n        this.errMsg = 'Todos los campos son requeridos'\n      } else {\n        this.$store.commit('loading', true)\n        this.$store\n          .dispatch('login', this.credentials)\n          .then(res => {\n            if (res.status === 200 || res.status === 201) {\n              this.$store.dispatch('startTime')\n\n              this.$router.push({ name: 'Escritorio' })\n              this.$store.dispatch('subscribeWebPush')\n            } else {\n              this.$store.dispatch('toggleAlert', {\n                msg: `Hubo un problema. Error: ${res.status} || ${\n                  res.statusText\n                }`,\n                class: 'warning',\n                active: true\n              })\n            }\n            this.$store.commit('loading', false)\n            return res\n          })\n          .then(res => {\n            this.$store.dispatch('toggleAlert', {\n              msg: `Bienvenido ${this.$store.state.auth.name}`,\n              class: 'success',\n              active: true\n            })\n          })\n          .catch(err => console.log(err))\n\n        this.clearForm()\n        this.$store.commit('loading', false)\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\na {\n  color: #495057;\n  font-size: 0.9rem;\n}\na:active,\na:visited {\n  color: #495057;\n}\n</style>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=3a4a5d4b&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=3a4a5d4b&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a4a5d4b\",\n  null\n  \n)\n\ncomponent.options.__file = \"Login.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=3a4a5d4b&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=3a4a5d4b&lang=scss&scoped=true&\""],"sourceRoot":""}